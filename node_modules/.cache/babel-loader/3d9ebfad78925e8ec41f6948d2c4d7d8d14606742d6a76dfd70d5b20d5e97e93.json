{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import HandoverItem from'./HandoverItem';import'./HandoverList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HandoverList=_ref=>{let{handovers=[],onHandoversUpdate}=_ref;const navigate=useNavigate();const[statusFilter,setStatusFilter]=useState('all');const[priorityFilter,setPriorityFilter]=useState('all');// Calculate task statistics\nconst taskStats={pending:0,'in-progress':0,completed:0};handovers.forEach(handover=>{var _handover$tasks;(_handover$tasks=handover.tasks)===null||_handover$tasks===void 0?void 0:_handover$tasks.forEach(task=>{if(task.status in taskStats){taskStats[task.status]++;}});});const handleTaskUpdate=(handoverId,updatedTasks)=>{const updatedHandovers=handovers.map(handover=>{if(handover.id===handoverId){return{...handover,tasks:updatedTasks};}return handover;});// Only update if the callback is provided\nif(typeof onHandoversUpdate==='function'){onHandoversUpdate(updatedHandovers);}else{console.warn('onHandoversUpdate function not provided to HandoverList component');}};const filteredHandovers=handovers.filter(handover=>{const statusMatch=statusFilter==='all'||handover.status===statusFilter;const priorityMatch=priorityFilter==='all'||handover.priority===priorityFilter;return statusMatch&&priorityMatch;});return/*#__PURE__*/_jsxs(\"div\",{className:\"handover-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"handover-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Shift Handovers\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-statistics\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card pending\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pending Tasks\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:taskStats.pending||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card in-progress\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"In Progress\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:taskStats['in-progress']||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card completed\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Completed\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:taskStats.completed||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in-progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Priority:\"}),/*#__PURE__*/_jsxs(\"select\",{value:priorityFilter,onChange:e=>setPriorityFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"critical\",children:\"Critical\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"handover-list\",children:filteredHandovers.length>0?filteredHandovers.map(handover=>/*#__PURE__*/_jsx(HandoverItem,{handover:{...handover,onTaskUpdate:handleTaskUpdate},onClick:()=>navigate(`/handover/${handover.id}`)},handover.id)):/*#__PURE__*/_jsx(\"div\",{className:\"no-handovers\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No handovers found matching the selected filters.\"})})})]});};export default HandoverList;","map":{"version":3,"names":["React","useState","useNavigate","HandoverItem","jsx","_jsx","jsxs","_jsxs","HandoverList","_ref","handovers","onHandoversUpdate","navigate","statusFilter","setStatusFilter","priorityFilter","setPriorityFilter","taskStats","pending","completed","forEach","handover","_handover$tasks","tasks","task","status","handleTaskUpdate","handoverId","updatedTasks","updatedHandovers","map","id","console","warn","filteredHandovers","filter","statusMatch","priorityMatch","priority","className","children","value","onChange","e","target","length","onTaskUpdate","onClick"],"sources":["C:/Users/Affan MD/Desktop/shift-handover-system/src/components/Handovers/HandoverList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport HandoverItem from './HandoverItem';\r\nimport './HandoverList.css';\r\n\r\nconst HandoverList = ({ handovers = [], onHandoversUpdate }) => {\r\n  const navigate = useNavigate();\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [priorityFilter, setPriorityFilter] = useState('all');\r\n\r\n  // Calculate task statistics\r\n  const taskStats = {\r\n    pending: 0,\r\n    'in-progress': 0,\r\n    completed: 0\r\n  };\r\n  \r\n  handovers.forEach(handover => {\r\n    handover.tasks?.forEach(task => {\r\n      if (task.status in taskStats) {\r\n        taskStats[task.status]++;\r\n      }\r\n    });\r\n  });\r\n\r\n  const handleTaskUpdate = (handoverId, updatedTasks) => {\r\n    const updatedHandovers = handovers.map(handover => {\r\n      if (handover.id === handoverId) {\r\n        return {\r\n          ...handover,\r\n          tasks: updatedTasks\r\n        };\r\n      }\r\n      return handover;\r\n    });\r\n    \r\n    // Only update if the callback is provided\r\n    if (typeof onHandoversUpdate === 'function') {\r\n      onHandoversUpdate(updatedHandovers);\r\n    } else {\r\n      console.warn('onHandoversUpdate function not provided to HandoverList component');\r\n    }\r\n  };\r\n\r\n  const filteredHandovers = handovers.filter(handover => {\r\n    const statusMatch = statusFilter === 'all' || handover.status === statusFilter;\r\n    const priorityMatch = priorityFilter === 'all' || handover.priority === priorityFilter;\r\n    return statusMatch && priorityMatch;\r\n  });\r\n\r\n  return (\r\n    <div className=\"handover-container\">\r\n      <div className=\"handover-header\">\r\n        <h2>Shift Handovers</h2>\r\n       \r\n      </div>\r\n\r\n      <div className=\"task-statistics\">\r\n        <div className=\"stat-card pending\">\r\n          <h3>Pending Tasks</h3>\r\n          <span className=\"stat-number\">{taskStats.pending || 0}</span>\r\n        </div>\r\n        <div className=\"stat-card in-progress\">\r\n          <h3>In Progress</h3>\r\n          <span className=\"stat-number\">{taskStats['in-progress'] || 0}</span>\r\n        </div>\r\n        <div className=\"stat-card completed\">\r\n          <h3>Completed</h3>\r\n          <span className=\"stat-number\">{taskStats.completed || 0}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"filters\">\r\n        <div className=\"filter-group\">\r\n          <label>Status:</label>\r\n          <select \r\n            value={statusFilter} \r\n            onChange={(e) => setStatusFilter(e.target.value)}\r\n          >\r\n            <option value=\"all\">All</option>\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"in-progress\">In Progress</option>\r\n            <option value=\"completed\">Completed</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label>Priority:</label>\r\n          <select \r\n            value={priorityFilter} \r\n            onChange={(e) => setPriorityFilter(e.target.value)}\r\n          >\r\n            <option value=\"all\">All</option>\r\n            <option value=\"low\">Low</option>\r\n            <option value=\"medium\">Medium</option>\r\n            <option value=\"high\">High</option>\r\n            <option value=\"critical\">Critical</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"handover-list\">\r\n        {filteredHandovers.length > 0 ? (\r\n          filteredHandovers.map((handover) => (\r\n            <HandoverItem\r\n              key={handover.id}\r\n              handover={{\r\n                ...handover,\r\n                onTaskUpdate: handleTaskUpdate\r\n              }}\r\n              onClick={() => navigate(`/handover/${handover.id}`)}\r\n            />\r\n          ))\r\n        ) : (\r\n          <div className=\"no-handovers\">\r\n            <p>No handovers found matching the selected filters.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HandoverList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}