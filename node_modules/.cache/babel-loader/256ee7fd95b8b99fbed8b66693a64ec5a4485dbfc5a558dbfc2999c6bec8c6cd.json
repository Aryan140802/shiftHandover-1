{"ast":null,"code":"import React,{useState}from'react';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,ArcElement,Tooltip,Legend}from'chart.js';import{Bar,Pie}from'react-chartjs-2';import{format,subDays}from'date-fns';import'./HandoverReports.css';// Register ChartJS components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,ArcElement,Tooltip,Legend);const HandoverReports=_ref=>{let{handovers}=_ref;const[dateRange,setDateRange]=useState('7');const filteredHandovers=handovers.filter(handover=>{if(dateRange==='all')return true;const days=parseInt(dateRange);const cutoffDate=subDays(new Date(),days);return new Date(handover.createdAt)>=cutoffDate;});const priorityData={labels:['Low','Medium','High','Critical'],datasets:[{data:[filteredHandovers.filter(h=>h.priority==='low').length,filteredHandovers.filter(h=>h.priority==='medium').length,filteredHandovers.filter(h=>h.priority==='high').length,filteredHandovers.filter(h=>h.priority==='critical').length],backgroundColor:['#4CAF50','#FFC107','#FF9800','#F44336'],borderWidth:1}]};const pieOptions={responsive:true,plugins:{legend:{position:'bottom'}}};const statusData={labels:['Pending','In Progress','Completed'],datasets:[{data:[filteredHandovers.filter(h=>h.status==='pending').length,filteredHandovers.filter(h=>h.status==='in-progress').length,filteredHandovers.filter(h=>h.status==='completed').length],backgroundColor:['#FFC107','#2196F3','#4CAF50']}]};const dailyData={labels:Array.from({length:7},(_,i)=>format(subDays(new Date(),6-i),'EEE')),datasets:[{label:'Handovers',data:Array.from({length:7},(_,i)=>{const date=format(subDays(new Date(),6-i),'yyyy-MM-dd');return filteredHandovers.filter(h=>format(new Date(h.createdAt),'yyyy-MM-dd')===date).length;}),backgroundColor:'#2196F3',borderWidth:1}]};const barOptions={responsive:true,plugins:{legend:{position:'top'}},scales:{y:{beginAtZero:true,ticks:{stepSize:1}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"reports-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reports-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Handover Reports\"}),/*#__PURE__*/_jsxs(\"select\",{value:dateRange,onChange:e=>setDateRange(e.target.value),className:\"date-selector\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"Last 7 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"Last 30 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90\",children:\"Last 90 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Time\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card total\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Handovers\"}),/*#__PURE__*/_jsx(\"p\",{children:filteredHandovers.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card pending\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{children:filteredHandovers.filter(h=>h.status==='pending').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card in-progress\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"In Progress\"}),/*#__PURE__*/_jsx(\"p\",{children:filteredHandovers.filter(h=>h.status==='in-progress').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card completed\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{children:filteredHandovers.filter(h=>h.status==='completed').length})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Handovers by Priority\"}),/*#__PURE__*/_jsx(Pie,{data:priorityData,options:pieOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Handovers by Status\"}),/*#__PURE__*/_jsx(Pie,{data:statusData,options:pieOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card wide\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Daily Handover Count\"}),/*#__PURE__*/_jsx(Bar,{data:dailyData,options:barOptions})]})]})]});};export default HandoverReports;","map":{"version":3,"names":["React","useState","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","ArcElement","Tooltip","Legend","Bar","Pie","format","subDays","jsx","_jsx","jsxs","_jsxs","register","HandoverReports","_ref","handovers","dateRange","setDateRange","filteredHandovers","filter","handover","days","parseInt","cutoffDate","Date","createdAt","priorityData","labels","datasets","data","h","priority","length","backgroundColor","borderWidth","pieOptions","responsive","plugins","legend","position","statusData","status","dailyData","Array","from","_","i","label","date","barOptions","scales","y","beginAtZero","ticks","stepSize","className","children","value","onChange","e","target","options"],"sources":["C:/Users/Affan MD/Desktop/shift-handover-system/src/components/Reports/HandoverReports.js"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend\r\n} from 'chart.js';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport { format, subDays } from 'date-fns';\r\nimport './HandoverReports.css';\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nconst HandoverReports = ({ handovers }) => {\r\n  const [dateRange, setDateRange] = useState('7');\r\n\r\n  const filteredHandovers = handovers.filter(handover => {\r\n    if (dateRange === 'all') return true;\r\n    const days = parseInt(dateRange);\r\n    const cutoffDate = subDays(new Date(), days);\r\n    return new Date(handover.createdAt) >= cutoffDate;\r\n  });\r\n\r\n  const priorityData = {\r\n    labels: ['Low', 'Medium', 'High', 'Critical'],\r\n    datasets: [{\r\n      data: [\r\n        filteredHandovers.filter(h => h.priority === 'low').length,\r\n        filteredHandovers.filter(h => h.priority === 'medium').length,\r\n        filteredHandovers.filter(h => h.priority === 'high').length,\r\n        filteredHandovers.filter(h => h.priority === 'critical').length\r\n      ],\r\n      backgroundColor: ['#4CAF50', '#FFC107', '#FF9800', '#F44336'],\r\n      borderWidth: 1\r\n    }]\r\n  };\r\n\r\n  const pieOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'bottom',\r\n      },\r\n    }\r\n  };\r\n\r\n  const statusData = {\r\n    labels: ['Pending', 'In Progress', 'Completed'],\r\n    datasets: [{\r\n      data: [\r\n        filteredHandovers.filter(h => h.status === 'pending').length,\r\n        filteredHandovers.filter(h => h.status === 'in-progress').length,\r\n        filteredHandovers.filter(h => h.status === 'completed').length\r\n      ],\r\n      backgroundColor: ['#FFC107', '#2196F3', '#4CAF50']\r\n    }]\r\n  };\r\n\r\n  const dailyData = {\r\n    labels: Array.from({ length: 7 }, (_, i) => \r\n      format(subDays(new Date(), 6 - i), 'EEE')\r\n    ),\r\n    datasets: [{\r\n      label: 'Handovers',\r\n      data: Array.from({ length: 7 }, (_, i) => {\r\n        const date = format(subDays(new Date(), 6 - i), 'yyyy-MM-dd');\r\n        return filteredHandovers.filter(h => \r\n          format(new Date(h.createdAt), 'yyyy-MM-dd') === date\r\n        ).length;\r\n      }),\r\n      backgroundColor: '#2196F3',\r\n      borderWidth: 1\r\n    }]\r\n  };\r\n\r\n  const barOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n        ticks: {\r\n          stepSize: 1\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"reports-container\">\r\n      <div className=\"reports-header\">\r\n        <h2>Handover Reports</h2>\r\n        <select \r\n          value={dateRange} \r\n          onChange={(e) => setDateRange(e.target.value)}\r\n          className=\"date-selector\"\r\n        >\r\n          <option value=\"7\">Last 7 Days</option>\r\n          <option value=\"30\">Last 30 Days</option>\r\n          <option value=\"90\">Last 90 Days</option>\r\n          <option value=\"all\">All Time</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card total\">\r\n          <h3>Total Handovers</h3>\r\n          <p>{filteredHandovers.length}</p>\r\n        </div>\r\n        <div className=\"stat-card pending\">\r\n          <h3>Pending</h3>\r\n          <p>{filteredHandovers.filter(h => h.status === 'pending').length}</p>\r\n        </div>\r\n        <div className=\"stat-card in-progress\">\r\n          <h3>In Progress</h3>\r\n          <p>{filteredHandovers.filter(h => h.status === 'in-progress').length}</p>\r\n        </div>\r\n        <div className=\"stat-card completed\">\r\n          <h3>Completed</h3>\r\n          <p>{filteredHandovers.filter(h => h.status === 'completed').length}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"charts-grid\">\r\n        <div className=\"chart-card\">\r\n          <h3>Handovers by Priority</h3>\r\n          <Pie data={priorityData} options={pieOptions} />\r\n        </div>\r\n        <div className=\"chart-card\">\r\n          <h3>Handovers by Status</h3>\r\n          <Pie data={statusData} options={pieOptions} />\r\n        </div>\r\n        <div className=\"chart-card wide\">\r\n          <h3>Daily Handover Count</h3>\r\n          <Bar data={dailyData} options={barOptions} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HandoverReports;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}